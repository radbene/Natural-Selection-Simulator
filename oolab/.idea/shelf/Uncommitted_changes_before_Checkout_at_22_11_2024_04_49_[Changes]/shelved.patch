Index: src/main/java/agh/ics/oop/model/AbstractWorldMap.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package agh.ics.oop.model;\r\nimport agh.ics.oop.model.util.MapVisualizer;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.Map;\r\npublic abstract class AbstractWorldMap implements WorldMap {\r\n\r\n    protected final Map<Vector2d, Animal> animals = new HashMap<>();\r\n    protected final MapVisualizer visualizer = new MapVisualizer(this);\r\n\r\n\r\n    @Override\r\n    public boolean place(Animal animal) {\r\n        if (canMoveTo(animal.getPosition())) {\r\n            animals.put(animal.getPosition(), animal);\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n\r\n    @Override\r\n    public void move(Animal animal, MoveDirection direction) {\r\n        Vector2d oldPosition = animal.getPosition();\r\n        MoveDirection oppositeDirection = direction.opposite();\r\n        animal.move(direction);\r\n        if(place(animal)){\r\n            animals.remove(oldPosition);\r\n        }\r\n        else{\r\n            if(!oldPosition.equals(animal.getPosition())) {\r\n                animal.move(oppositeDirection);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    @Override\r\n    public boolean isOccupied(Vector2d position) {\r\n        return objectAt(position) != null;\r\n    }\r\n\r\n\r\n    @Override\r\n    public WorldElement objectAt(Vector2d position) {\r\n        if(animals.get(position) != null) return animals.get(position);\r\n        return null;\r\n    }\r\n\r\n    \r\n    public List<WorldElement> getElements() {\r\n        List<WorldElement> elements = new ArrayList<>(animals.values());\r\n        return elements;\r\n    }\r\n\r\n    @Override\r\n    abstract public boolean canMoveTo(Vector2d position);\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/java/agh/ics/oop/model/AbstractWorldMap.java b/src/main/java/agh/ics/oop/model/AbstractWorldMap.java
--- a/src/main/java/agh/ics/oop/model/AbstractWorldMap.java	(revision 996c9dd8a23b734ea7620370f9eb61c04ab98ca7)
+++ b/src/main/java/agh/ics/oop/model/AbstractWorldMap.java	(date 1732247370310)
@@ -49,7 +49,7 @@
         return null;
     }
 
-    
+
     public List<WorldElement> getElements() {
         List<WorldElement> elements = new ArrayList<>(animals.values());
         return elements;
